import{Selection}from"./selection.js";import{Tabs}from"./tabs.js";async function options(e){document.querySelector("#open-nav").setAttribute("data-open",""),e.search.title.style.display="block",e.search.title.textContent="Options",e.search.input.style.display="none";const t=new Tabs(e),a=new Selection(e),n=new Selection(e);[{id:"ocean",content:"Ocean"},{id:"midnight",content:"Midnight"},{id:"simple",content:"Simple"},{id:"space",content:"Space"},{id:"morning",content:"Morning"},{id:"terminal",content:"Terminal"},{id:"resilent",content:"Resilient"},{id:"fancy",content:"Fancy"}].forEach((t=>{a.createSelector(t.id,e.createElement("li",t.content,{class:"selector"}))})),[{id:"stars",content:"Stars"},{id:"particles",content:"Particles"},{id:"none",content:"None"}].forEach((t=>{n.createSelector(t.id,e.createElement("li",t.content,{class:"selector"}))})),n.on("select",(t=>{if(t in n.selectors&&n.selectors[t].setAttribute("data-selected",""),"none"===t)e.destroyParticles();else if(localStorage.getItem("incog||background")!==t)switch(t){case"stars":e.destroyParticles(),particlesJS.load(".particles","./json/stars.json");break;case"particles":e.destroyParticles(),particlesJS.load(".particles","./json/particles.json")}localStorage.setItem("incog||background",t)})),a.on("select",(e=>{e in a.selectors&&a.selectors[e].setAttribute("data-selected",""),document.body.setAttribute("data-appearance",e),localStorage.setItem("incog||appearance",e)})),a.switchSelector(localStorage.getItem("incog||appearance")),n.switchSelector(localStorage.getItem("incog||background")||"none"),t.on("switch",(t=>{document.querySelectorAll("[data-selected]").forEach((e=>{e.removeAttribute("data-selected")})),e.nav[t]&&e.nav[t].setAttribute("data-selected","")})),t.createTab("appearance",e.createElement("div",[e.createElement("section",[e.createElement("span","Theme",{style:{display:"block","margin-bottom":"10px","font-size":"18px","font-weight":"500"}}),a.element],{class:"data-section"}),e.createElement("section",[e.createElement("span","Background",{style:{display:"block","margin-bottom":"10px","font-size":"18px","font-weight":"500"}}),n.element],{class:"data-section"})],{class:"appearance"})),t.createTab("tabs",e.createElement("div",[e.createElement("section",[e.createElement("span","Tab Title",{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("input",[],{attrs:{value:document.title,placeholder:"Empty title"},style:{width:"300px"},events:{input(e){document.title=e.target.value,localStorage.setItem("incog||title",e.target.value)}}}),e.createElement("p","Change the title of Incognito's browser tab title.",{style:{"margin-bottom":"0"}})],{class:"data-section"}),e.createElement("section",[e.createElement("span","Tab Icon",{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("input",[],{attrs:{value:e.icon.href,placeholder:"No icon"},style:{width:"300px"},events:{input(t){e.icon.href=t.target.value,localStorage.setItem("incog||icon",t.target.value)}}}),e.createElement("p",'Change the icon of Incognito\'s browser tab. To change it into something like Google, type in "https://www.google.com/favicon.ico"',{style:{"margin-bottom":"0"}})],{class:"data-section"}),e.createElement("section",[e.createElement("span","about:blank cloaking",{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("button","Go about:blank",{style:{width:"300px",display:"inline-block",padding:"14px 18px",margin:"5px 0",color:"var(--text-color)","text-decoration":"none","font-size":"14px",background:"0 0",border:"1px solid var(--border-color)","border-radius":"2px",outline:"none","font-family":"inherit"},events:{click(){goBlank()}}}),e.createElement("p","Use about:blank to cloak your tab.",{style:{"margin-bottom":"0"}})],{class:"data-section"})])),t.createTab("about",e.createElement("div",await createAbout(e))),e.nav.about=e.createElement("a","About",{events:{click(){t.switchTab("about")}},id:"about"}),e.nav.tabs=e.createElement("a","Browser Tab",{events:{click(){t.switchTab("tabs")}},id:"tabs"}),e.nav.appearance=e.createElement("a","Appearance",{events:{click(){t.switchTab("appearance"),a.switchSelector(localStorage.getItem("incog||appearance")||"ocean")}},id:"appearance"}),t.switchTab("appearance"),e.search.back.style.display="inline",e.search.back.setAttribute("onclick","("+function(){window.location.hash=""}.toString()+")();"),e.main.content=t.element}async function createAbout(e){const t=await fetch("./about.json"),a=await t.json(),n=[],o=[],c=[],s=[];for(const t of a.authors)n.push(e.createElement("p",`${t.name}${t.data?" - "+t.data:""}`,{style:{"margin-bottom":"0"}}));for(const t of a.socials)o.push(e.createElement("p",`${t.name}${t.data?" - "+t.data:""}`,{style:{"margin-bottom":"0"}}));for(const t of a.contact)c.push(e.createElement("p",`${t.name}${t.data?" - "+t.data:""}`,{style:{"margin-bottom":"0"}}));for(const t of a.amethyst)s.push(e.createElement("p",`${t.name}${t.data?" - "+t.data:""}`,{style:{"margin-bottom":"0"}}));return[e.createElement("section",[e.createElement("span",a.main.title,{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("p",a.main.data,{style:{"margin-bottom":"0"}})],{class:"data-section"}),e.createElement("section",[e.createElement("span","Authors",{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("div",n)],{class:"data-section"}),e.createElement("section",[e.createElement("span","Amethyst Network",{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("div",s)],{class:"data-section"}),e.createElement("section",[e.createElement("span","Socials",{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("div",o)],{class:"data-section"}),c.length?e.createElement("section",[e.createElement("span","Contact",{style:{display:"block","margin-bottom":"6px","font-size":"18px","font-weight":"500"}}),e.createElement("div",c)],{class:"data-section"}):null]}export{options};